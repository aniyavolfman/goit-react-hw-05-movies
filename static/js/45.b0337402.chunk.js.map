{"version":3,"file":"static/js/45.b0337402.chunk.js","mappings":"4PAGO,SAASA,EAAT,GAAgD,IAA1BC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,YAC/BC,GAAWC,EAAAA,EAAAA,UAQjB,OACE,kBAAMH,SAPiB,SAAAI,GACvBA,EAAMC,iBAENL,EAASE,EAASI,QAAQC,MAC3B,EAGC,WACE,kBAAOC,IAAKN,EAAUO,KAAK,OAAOC,aAAcT,EAAaU,UAAQ,KACrE,yCAGL,C,wBChBYC,E,OAAWC,GAAAA,GAAH,wHCIN,SAASC,IAAc,IAAD,EACnC,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMhB,EAAW,UAAGe,EAAaE,IAAI,gBAApB,QAAgC,GAC3CC,GAAWC,EAAAA,EAAAA,MACjB,GAAoCC,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KAqBA,OAnBAC,EAAAA,EAAAA,YAAU,WAAM,wCAGd,WAAiCC,GAAjC,iGAEuBC,EAAAA,EAAAA,IAAoBD,GAF3C,OAEUE,EAFV,OAGIJ,EAAcI,GAHlB,gDAKIC,QAAQC,IAAI,KAAMC,SALtB,0DAHc,sBACM,KAAhB7B,GADU,oCAYd8B,CAAkB9B,EACnB,GAAE,CAACA,KAOF,gCACE,SAACF,EAAD,CAAYC,SANhB,SAAkBgC,GAChBf,EAAgB,CAAEQ,MAAOO,GAC1B,EAImC/B,YAAaA,KAC7C,SAACW,EAAD,UACGU,EAAWW,KAAI,SAAAC,GAAE,OAChB,yBACE,SAAC,KAAD,CAAMC,MAAO,CAAEC,KAAI,OAAEjB,QAAF,IAAEA,EAAAA,EAAY,KAAOkB,GAAE,kBAAaH,EAAGI,IAA1D,SACGJ,EAAGK,SAFCL,EAAGI,GADI,QAUzB,C","sources":["components/SearchForm/SearchForm.jsx","pages/MoviesPage/MoviesPage.styled.js","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nexport function SearchForm({ onSubmit, searchQuery }) {\n  const searhRef = useRef();\n\n  const handleSubmitForm = event => {\n    event.preventDefault();\n\n    onSubmit(searhRef.current.value);\n  };\n\n  return (\n    <form onSubmit={handleSubmitForm}>\n      <input ref={searhRef} type=\"text\" defaultValue={searchQuery} required />\n      <button>Search</button>\n    </form>\n  );\n}\n\nSearchForm.propTypes = {\n  searchQuery: PropTypes.string,\n  onSubmit: PropTypes.func,\n};","import styled from 'styled-components';\n\nexport const StyledUl = styled.ul`\n  & a {\n    text-decoration: none;\n  }\n  & a:hover,\n  & a:focus {\n    color: tomato;\n  }\n`;\n","import React, { useEffect, useState } from 'react'\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { SearchForm } from 'components/SearchForm/SearchForm'\nimport { requestPostsByQuery } from 'services/api';\nimport { StyledUl } from './MoviesPage.styled';\n\nexport default function MoviesPage() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchQuery = searchParams.get('query') ?? '';\n  const location = useLocation();\n  const [queryFilms, setQueryFilms] = useState([]);\n\n  useEffect(() => {\n    if (searchQuery === '') return;\n\n    async function fetchPostsByQuery(query) {\n      try {\n        const film = await requestPostsByQuery(query);\n        setQueryFilms(film);\n      } catch (error) {\n        console.log(error.message);\n      }\n    }\n\n    fetchPostsByQuery(searchQuery);\n  }, [searchQuery]);\n\n  function onSubmit(searchValue) {\n    setSearchParams({ query: searchValue });\n  }\n\n  return (\n    <section>\n      <SearchForm onSubmit={onSubmit} searchQuery={searchQuery} />\n      <StyledUl>\n        {queryFilms.map(el => (\n          <li key={el.id}>\n            <Link state={{ from: location ?? '/' }} to={`/movies/${el.id}`}>\n              {el.title}\n            </Link>\n          </li>\n        ))}\n      </StyledUl>\n    </section>\n  );\n}\n"],"names":["SearchForm","onSubmit","searchQuery","searhRef","useRef","event","preventDefault","current","value","ref","type","defaultValue","required","StyledUl","styled","MoviesPage","useSearchParams","searchParams","setSearchParams","get","location","useLocation","useState","queryFilms","setQueryFilms","useEffect","query","requestPostsByQuery","film","console","log","message","fetchPostsByQuery","searchValue","map","el","state","from","to","id","title"],"sourceRoot":""}